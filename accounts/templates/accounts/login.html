{% extends "base.html" %}
{% block title %}로그인 | 메디타워{% endblock %}
{% block content %}
<div class="container my-5" style="max-width: 500px;">
  <h3 class="text-center mb-4 fw-bold text-dark">로그인</h3>

  {% if messages %}
    {% for message in messages %}
      <div class="alert alert-danger">{{ message }}</div>
    {% endfor %}
  {% endif %}

  <form method="post">
    {% csrf_token %}
    <div class="form-floating mb-3">
      <input type="text" name="username" class="form-control" id="username" placeholder="아이디" required>
      <label for="username">아이디</label>
    </div>

    <div class="form-floating mb-4 position-relative">
      <input type="password" name="password" class="form-control pe-5" id="password" placeholder="비밀번호" required>
      <label for="password">비밀번호</label>
      <i class="bi bi-eye-fill position-absolute top-50 end-0 translate-middle-y me-3 text-muted cursor-pointer"
         style="z-index: 2; font-size: 1.2rem;" onclick="togglePassword('password', this)"></i>
    </div>

    <button type="submit" class="btn btn-primary w-100">로그인</button>
  </form>
</div>

<script>
function togglePassword(inputId, icon) {
  const input = document.getElementById(inputId);
  const isPassword = input.type === "password";
  input.type = isPassword ? "text" : "password";
  icon.classList.toggle("bi-eye-fill", !isPassword);
  icon.classList.toggle("bi-eye-slash-fill", isPassword);
}
</script>
{% endblock %}
